<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>974DR ‚Äî Calcul mental</title>
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0e0f12">

  <style>
    :root{ --bg:#0e0f12; --card:#171a21; --text:#e8ecf1; --muted:#aab3bd; --accent:#ffd166; --ok:#34d399; --bad:#f87171; --border:rgba(255,255,255,.1); }
    *{box-sizing:border-box}
    html,body{height:100%; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

    .wrap{max-width:720px;margin:28px auto;padding:0 16px}
    header{display:flex;align-items:center;gap:14px;margin-bottom:18px}
    header .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#4aa7ff,#9b72ff);display:grid;place-items:center}
    header .logo span{font-weight:800;color:white;font-size:20px}
    h1{margin:0;font-size:clamp(22px,4vw,34px)}
    .sub{color:var(--muted);font-size:14px}

    .banner{background:linear-gradient(135deg,#4aa7ff,#8dd0ff);color:#03111f;font-weight:bold;
      padding:8px 14px;border-radius:10px;margin-bottom:16px;text-align:center}

    .card{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:14px;padding:16px;text-align:center}
    .question{font-size:clamp(28px,6vw,56px);font-weight:800;margin:20px 0 12px}
    .question .op{color:var(--accent)}
    .input-line{display:flex;gap:10px;justify-content:center;align-items:center;flex-wrap:wrap}
    .input-line input{font-size:22px;text-align:center;width:160px;padding:8px}
    .feedback{min-height:26px;text-align:center;font-weight:800;margin-top:10px}
    .feedback.ok{color:var(--ok)} 
    .feedback.bad{color:var(--bad)}
    .score{margin-top:10px;color:var(--muted)}

    /* ===== Intro plein-√©cran ===== */
    #intro{
      position:fixed; inset:0; z-index:9999;
      background:radial-gradient(1200px 800px at 30% -10%, #1b2330 0%, #0c0e12 60%);
      display:grid; place-items:center; opacity:1; transition:opacity .6s ease; pointer-events:auto;
    }
    #intro.hide{ opacity:0; pointer-events:none; }
    .intro-center{ text-align:center; padding:24px; }
    .intro-logo{
      font-weight:900; letter-spacing:2px; font-size:clamp(36px, 12vw, 96px);
      background:linear-gradient(135deg,#8dd0ff,#9b72ff);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      filter: drop-shadow(0 10px 30px rgba(0,0,0,.5));
    }
    .intro-sub{ color:#c9d6e2; margin:6px 0 16px; font-size:clamp(14px,3.5vw,18px); opacity:.9 }
    .intro-heart{font-size:20px; color:#ff4d4d; font-weight:800; margin-bottom:20px;}
    .intro-btn{
      appearance:none; border:none; border-radius:14px; padding:12px 18px; font-weight:800; cursor:pointer;
      background:linear-gradient(135deg,#4aa7ff,#8dd0ff); color:#03111f; margin-top:20px;
    }
  </style>
</head>
<body>
  <!-- INTRO -->
  <div id="intro">
    <div class="intro-center">
      <div class="intro-logo">974DR</div>
      <div class="intro-sub">Vive la 974DR ¬∑ Vive S√©cheron ‚ú®</div>
      <div class="intro-heart">‚ù§Ô∏è Vive les maths ‚ù§Ô∏è</div>
      <button class="intro-btn" onclick="startApp()">‚ñ∂Ô∏è Commencer</button>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="wrap">
    <header>
      <div class="logo"><span>√ó</span></div>
      <div>
        <h1>Pour les √©l√®ves de la 974DR !</h1>
        <div class="sub">Tables de multiplication ‚Äî entra√Ænement ludique</div>
      </div>
    </header>

    <div class="banner">
      üíô Vive la 974DR ! üíô <br>
      üíö Vive S√©cheron ! üíö <br>
      ‚ù§Ô∏è Vive les maths ‚ù§Ô∏è
    </div>

    <section class="card">
      <div id="question" class="question"></div>
      <div class="input-line">
        <input id="answer" type="number" placeholder="Ta r√©ponse" />
        <button onclick="checkAnswer()">Valider</button>
      </div>
      <div id="feedback" class="feedback"></div>
      <div id="score" class="score">Score : 0</div>
    </section>
  </div>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

  <script>
    let currentA=0, currentB=0, score=0;

    function newQuestion(){
      currentA = Math.floor(Math.random()*10)+1;
      currentB = Math.floor(Math.random()*10)+1;
      document.getElementById("question").innerHTML = `${currentA} <span class="op">√ó</span> ${currentB} = ?`;
      document.getElementById("answer").value="";
      document.getElementById("feedback").innerText="";
    }

    function checkAnswer(){
      const val = parseInt(document.getElementById("answer").value,10);
      if(val === currentA*currentB){
        score++;
        document.getElementById("feedback").innerText="‚úÖ Bravo !";
        document.getElementById("feedback").className="feedback ok";
        confetti();
      } else {
        document.getElementById("feedback").innerText=`‚ùå Mauvaise r√©ponse`;
        document.getElementById("feedback").className="feedback bad";
      }
      document.getElementById("score").innerText="Score : "+score;
      setTimeout(newQuestion,1000);
    }

    function startApp(){
      document.getElementById("intro").classList.add("hide");
      newQuestion();
    }
  </script>
</body>
</html>
